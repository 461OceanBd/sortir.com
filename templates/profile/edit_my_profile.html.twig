{% extends 'layout.html.twig' %}

{% form_theme myProfileFormView 'bootstrap_4_layout.html.twig' %}

{% block title %}Mon Profil{% endblock %}

{% block body %}

    <h1>Mon profil</h1>
    <div class="col-8 mx-auto">


        {% if user.picture != null %}
            <img src="{{ asset('assets/profilepic/' ~ user.picture.name) }}" class="rounded mx-auto d-block" alt="profile picture">
        {% else %}
            <img src="{{ asset('assets/img/missingrofilepic.png') }}" class="rounded mx-auto d-block" alt="profile picture">
        {% endif %}


        {{ form_start(porfilePictureFormView) }}
        {{ form_row(porfilePictureFormView.profilepicturename) }}
        {{ form_widget(porfilePictureFormView.save, { 'attr': {'class': 'btn-success'} }) }}
        {{ form_end(porfilePictureFormView) }}


        {{ form_start(myProfileFormView) }}

        {{ form_row(myProfileFormView.pseudo) }}
        {{ form_row(myProfileFormView.name) }}
        {{ form_row(myProfileFormView.surname) }}
        {{ form_row(myProfileFormView.phone) }}
        {{ form_row(myProfileFormView.mail) }}

        <div class="password-div">
            <label for="password">Mot de passe :</label>
            <input type="password" id="password" name="8caracter" value="password" disabled>

            <a href="{{ path('changePassword') }}" class="btn btn-secondary" role="button">
                Changer mon mot de passe
            </a>
        </div>

        {{ form_row(myProfileFormView.site) }}

        {{ form_widget(myProfileFormView.save, { 'attr': {'class': 'btn-success'} }) }}

        {{ form_end(myProfileFormView) }}

    </div>


    <div class="col-4 mx-auto">

{#        <a href="{{ path('display_profile_member', {'id': app.user.id}) }}" class="btn btn-warning" role="button">#}
{#            Annuler les modifications#}
{#        </a>#}
        <a href="{{ path('display_events') }}" class="btn btn-secondary" role="button">
            Retour Ã  la page principale
        </a>

    </div>

{% endblock %}
